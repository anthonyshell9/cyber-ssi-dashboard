.calc-overlay {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.8); z-index: 999;
  display: flex; align-items: center; justify-content: center;
  backdrop-filter: blur(5px);
}

.calc-modal {
  background: #1e293b; border: 1px solid #06b6d4; padding: 30px;
  border-radius: 12px; width: 90%; max-width: 600px;
  max-height: 90vh; overflow-y: auto;
  box-shadow: 0 0 50px rgba(6, 182, 212, 0.3); animation: popIn 0.3s;
}

.calc-modal h3 { margin-top: 0; color: #06b6d4; font-size: 1.4rem; }
.calc-formula { color: #94a3b8; font-size: 0.85rem; margin-bottom: 20px; font-family: monospace; background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 6px; text-align: center; }

.calc-dimensions { display: flex; flex-direction: column; gap: 18px; }

.calc-dim-label {
  font-size: 0.75rem; text-transform: uppercase; letter-spacing: 1px;
  color: #64748b; font-weight: 700; margin-bottom: 8px;
}

.calc-dim-row { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
.calc-dim-row-5 { grid-template-columns: repeat(5, 1fr); }
.calc-dim-row-6 { grid-template-columns: repeat(3, 1fr); }

.calc-chip {
  background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1);
  border-radius: 8px; padding: 10px 6px; text-align: center;
  cursor: pointer; transition: 0.2s;
}
.calc-chip:hover { background: rgba(255,255,255,0.08); border-color: rgba(255,255,255,0.2); }

.chip-val { display: block; font-size: 1.3rem; font-weight: 800; color: #94a3b8; }
.chip-lbl { display: block; font-size: 0.65rem; color: #64748b; margin-top: 2px; }

/* Active states */
.calc-chip.active { transform: translateY(-2px); }
.calc-chip.active.chip-dep { background: rgba(245, 158, 11, 0.15); border-color: #f59e0b; }
.calc-chip.active.chip-dep .chip-val { color: #f59e0b; }
.calc-chip.active.chip-pen { background: rgba(239, 68, 68, 0.15); border-color: #ef4444; }
.calc-chip.active.chip-pen .chip-val { color: #ef4444; }
.calc-chip.active.chip-mat { background: rgba(99, 102, 241, 0.15); border-color: #6366f1; }
.calc-chip.active.chip-mat .chip-val { color: #6366f1; }
.calc-chip.active.chip-conf { background: rgba(16, 185, 129, 0.15); border-color: #10b981; }
.calc-chip.active.chip-conf .chip-val { color: #10b981; }

/* Result box */
.calc-result-box { margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.3); border-radius: 10px; text-align: center; }
.calc-result-display { display: flex; align-items: center; justify-content: center; gap: 15px; }
.calc-result-note { font-size: 2.2rem; font-weight: 900; }
.calc-result-label { font-size: 1rem; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }

.sc-green { color: #10b981; text-shadow: 0 0 10px rgba(16, 185, 129, 0.4); }
.sc-yellow { color: #f59e0b; text-shadow: 0 0 10px rgba(245, 158, 11, 0.4); }
.sc-orange { color: #f97316; text-shadow: 0 0 10px rgba(249, 115, 22, 0.4); }
.sc-red { color: #ef4444; text-shadow: 0 0 10px rgba(239, 68, 68, 0.4); }
.sc-gray { color: #94a3b8; }

/* Actions */
.calc-actions {
  margin-top: 25px; display: flex; justify-content: flex-end; gap: 10px;
}
.btn-cancel {
  background: transparent; border: 1px solid #475569; color: #94a3b8;
  padding: 10px 20px; border-radius: 6px; cursor: pointer; font-weight: 600;
}
.btn-cancel:hover { background: rgba(255,255,255,0.05); color: #e2e8f0; }
.btn-apply {
  background: #06b6d4; color: #0f172a; border: none; padding: 10px 20px;
  border-radius: 6px; font-weight: bold; cursor: pointer;
}
.btn-apply:hover { background: #22d3ee; }
.btn-apply:disabled { opacity: 0.4; cursor: not-allowed; }

@keyframes popIn { from { transform: scale(0.9); opacity: 0; } to { transform: scale(1); opacity: 1; } }
